<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="module" src="scripts/piece.js"></script>
    <script type="module" src="scripts/state.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div id="display-container"></div>
    <script type="module">
        import {game} from "./scripts/game.js";
        import {GAME_HEIGHT, GAME_WIDTH, PX_SCALE} from "./scripts/state.js"

        function menu(score = null){
            let dispC = document.getElementById("display-container");

            let div = document.createElement("div");
            div.setAttribute("id", "menu-container");
            div.style.height = `${GAME_HEIGHT * PX_SCALE}px`;
            div.style.width = `${GAME_WIDTH * PX_SCALE}px`;


            let title = document.createElement("p");
            title.setAttribute("id", "title");
            title.innerText = "TETRIS";

            let button = document.createElement("button");
            button.setAttribute("id", "button-start");
            button.innerText = "Start game";

            div.appendChild(title);
            div.appendChild(button);

            dispC.appendChild(div);
            button.addEventListener("click", playGame);
        }

        async function playGame(){
            let score = await game();
            console.log(score);
        }
        menu();
    </script>
</body>

</html>